CREATE TABLE `sets` (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    baseSetSize INTEGER,
    block TEXT,
    booster LONGTEXT,
    code VARCHAR(8) UNIQUE NOT NULL,
    isFoilOnly TINYINT(1) NOT NULL DEFAULT 0,
    isForeignOnly TINYINT(1) NOT NULL DEFAULT 0,
    isNonFoilOnly TINYINT(1) NOT NULL DEFAULT 0,
    isOnlineOnly TINYINT(1) NOT NULL DEFAULT 0,
    isPartialPreview TINYINT(1) NOT NULL DEFAULT 0,
    keyruneCode TEXT,
    mcmId INTEGER,
    mcmIdExtras INTEGER,
    mcmName TEXT,
    mtgoCode TEXT,
    name TEXT,
    parentCode TEXT,
    releaseDate DATE,
    sealedProduct TEXT,
    tcgplayerGroupId INTEGER,
    totalSetSize INTEGER,
    type ENUM('core', 'masters', 'expansion', 'memorabilia', 'commander', 'starter', 'archenemy', 'box', 'draft_innovation', 'from_the_vault', 'funny', 'duel_deck', 'masterpiece', 'promo', 'premium_deck', 'planechase', 'token', 'vanguard', 'treasure_chest', 'spellbook')
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE `cards` (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    artist TEXT,
    asciiName TEXT,
    availability TEXT,
    borderColor ENUM('black', 'white', 'borderless', 'silver', 'gold'),
    cardKingdomFoilId TEXT,
    cardKingdomId TEXT,
    colorIdentity TEXT,
    colorIndicator TEXT,
    colors TEXT,
    convertedManaCost FLOAT,
    duelDeck TEXT,
    edhrecRank INTEGER,
    faceConvertedManaCost FLOAT,
    faceName TEXT,
    finishes TEXT,
    flavorName TEXT,
    flavorText TEXT,
    frameEffects TEXT,
    frameVersion ENUM('2003', '1993', '2015', '1997', 'future'),
    hand TEXT,
    hasAlternativeDeckLimit TINYINT(1) NOT NULL DEFAULT 0,
    hasContentWarning TINYINT(1) NOT NULL DEFAULT 0,
    hasFoil TINYINT(1) NOT NULL DEFAULT 0,
    hasNonFoil TINYINT(1) NOT NULL DEFAULT 0,
    isAlternative TINYINT(1) NOT NULL DEFAULT 0,
    isFullArt TINYINT(1) NOT NULL DEFAULT 0,
    isOnlineOnly TINYINT(1) NOT NULL DEFAULT 0,
    isOversized TINYINT(1) NOT NULL DEFAULT 0,
    isPromo TINYINT(1) NOT NULL DEFAULT 0,
    isReprint TINYINT(1) NOT NULL DEFAULT 0,
    isReserved TINYINT(1) NOT NULL DEFAULT 0,
    isStarter TINYINT(1) NOT NULL DEFAULT 0,
    isStorySpotlight TINYINT(1) NOT NULL DEFAULT 0,
    isTextless TINYINT(1) NOT NULL DEFAULT 0,
    isTimeshifted TINYINT(1) NOT NULL DEFAULT 0,
    keywords TEXT,
    layout ENUM('normal', 'adventure', 'class', 'aftermath', 'split', 'flip', 'leveler', 'saga', 'transform', 'vanguard', 'meld', 'modal_dfc', 'scheme', 'planar', 'host', 'augment'),
    leadershipSkills TEXT,
    life TEXT,
    loyalty TEXT,
    manaCost TEXT,
    mcmId TEXT,
    mcmMetaId TEXT,
    mtgArenaId TEXT,
    mtgjsonV4Id TEXT,
    mtgoFoilId TEXT,
    mtgoId TEXT,
    multiverseId TEXT,
    name TEXT,
    number TEXT,
    originalReleaseDate TEXT,
    originalText TEXT,
    originalType TEXT,
    otherFaceIds TEXT,
    power TEXT,
    printings TEXT,
    promoTypes TEXT,
    purchaseUrls TEXT,
    rarity ENUM('uncommon', 'common', 'rare', 'mythic', 'special', 'bonus'),
    scryfallId TEXT,
    scryfallIllustrationId TEXT,
    scryfallOracleId TEXT,
    setCode TEXT,
    side TEXT,
    subtypes TEXT,
    supertypes TEXT,
    tcgplayerEtchedProductId TEXT,
    tcgplayerProductId TEXT,
    text TEXT,
    toughness TEXT,
    type TEXT,
    types TEXT,
    uuid CHAR(36) UNIQUE NOT NULL,
    variations TEXT,
    watermark TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE `tokens` (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    artist TEXT,
    asciiName TEXT,
    availability TEXT,
    borderColor ENUM('black', 'borderless', 'silver', 'gold'),
    colorIdentity TEXT,
    colors TEXT,
    edhrecRank INTEGER,
    faceName TEXT,
    finishes TEXT,
    flavorText TEXT,
    frameEffects TEXT,
    frameVersion TEXT,
    hasFoil TINYINT(1) NOT NULL DEFAULT 0,
    hasNonFoil TINYINT(1) NOT NULL DEFAULT 0,
    isFullArt TINYINT(1) NOT NULL DEFAULT 0,
    isPromo TINYINT(1) NOT NULL DEFAULT 0,
    isReprint TINYINT(1) NOT NULL DEFAULT 0,
    keywords TEXT,
    layout ENUM('token', 'art_series', 'emblem', 'normal'),
    mcmId TEXT,
    mtgArenaId TEXT,
    mtgjsonV4Id TEXT,
    multiverseId TEXT,
    name TEXT,
    number TEXT,
    originalText TEXT,
    originalType TEXT,
    power TEXT,
    promoTypes TEXT,
    reverseRelated TEXT,
    scryfallId TEXT,
    scryfallIllustrationId TEXT,
    scryfallOracleId TEXT,
    setCode TEXT,
    side TEXT,
    subtypes TEXT,
    supertypes TEXT,
    tcgplayerProductId TEXT,
    text TEXT,
    toughness TEXT,
    type TEXT,
    types TEXT,
    uuid CHAR(36) NOT NULL,
    watermark TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE `rulings` (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    date DATE,
    text TEXT,
    uuid CHAR(36) NOT NULL,
    INDEX(uuid),
    FOREIGN KEY (uuid) REFERENCES cards(uuid) ON UPDATE CASCADE ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE `legalities` (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    format ENUM('commander', 'duel', 'legacy', 'modern', 'paupercommander', 'penny', 'premodern', 'vintage', 'gladiator', 'historic', 'historicbrawl', 'pauper', 'pioneer', 'brawl', 'standard', 'future', 'oldschool'),
    status ENUM('Legal', 'Restricted', 'Banned'),
    uuid CHAR(36) NOT NULL,
    INDEX(uuid),
    FOREIGN KEY (uuid) REFERENCES cards(uuid) ON UPDATE CASCADE ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE `foreign_data` (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    flavorText TEXT,
    language ENUM('German', 'Spanish', 'French', 'Italian', 'Japanese', 'Portuguese (Brazil)', 'Russian', 'Chinese Simplified', 'Korean', 'Chinese Traditional', 'Phyrexian', 'Sanskrit', 'Latin', 'Hebrew', 'Arabic', 'Ancient Greek'),
    multiverseid INTEGER,
    name TEXT,
    text TEXT,
    type TEXT,
    uuid CHAR(36) NOT NULL,
    INDEX(uuid),
    FOREIGN KEY (uuid) REFERENCES cards(uuid) ON UPDATE CASCADE ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE `set_translations` (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    language ENUM('Chinese Simplified', 'Chinese Traditional', 'French', 'German', 'Italian', 'Japanese', 'Korean', 'Portuguese (Brazil)', 'Russian', 'Spanish'),
    setCode VARCHAR(8) NOT NULL,
    INDEX(setCode),
    FOREIGN KEY (setCode) REFERENCES sets(code) ON UPDATE CASCADE ON DELETE CASCADE,
    translation TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE `meta` (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    date DATE,
    version TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;